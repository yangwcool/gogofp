<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title> gogofp - ajax </title>
  <link rel="stylesheet" href="main.css" />
</head>

<body>
  <div class="banner">
    <div class="banner-1">
        <label><input type="radio" name="engine" value="baidu">ç™¾åº¦</label>
        <label><input type="radio" name="engine" value="doge">å¤šå‰</label>
        <label><input type="radio" name="engine" value="zhihu">çŸ¥ä¹</label>
        <label><input type="radio" name="engine" value="bing" checked="checked">å¿…åº”</label>
        <label><input type="radio" name="engine" value="google">Google</label>
        <label><input type="radio" name="engine" value="miji">ç§˜è¿¹</label>
    </div>
    <div class="banner-2">
      <form class="searchForm" action="https://cn.bing.com/search" method="get" target="_blank">
        <span class="search-logo">ğŸ‘‘</span>
        <input class="search-bar" type="text" name="q">
        <input class="search-btn" type="submit" value="Go!">
    </form>
    </div>
    <div class="banner-3"></div>
  </div>
  <div class="main clearfix">
    <div id="url" class="main-left clearfix">
      <ul><!-- fill by function renderUrl --></ul>
    </div>
    <div class="main-right-1 clearfix">
      <div class="date">
        <p></p>
        <p></p>
      </div>
      <div class="weather">
        <p></p>
        <p></p>
        <p></p>
      </div>
    </div>
    <div class="main-right-2">
      <form class="fyForm" action="https://cn.bing.com/dict/search" method="GET" target="_blank">
        <span>ğŸ“˜</span>
        <input type="text" class="fyWord" name="q">
        <input class="fy-btn" type="submit" value="dic">
      </form>
    </div>


  </div>
  <div class="foot">
    <div class="foot-main">
      <p>ğŸ˜ created at 2021/4/18 16:15</p>
      <p>ğŸ˜ƒ updated at 2022/1/14 12:15</p>
    </div>
  </div>

  <script>
    const XHR = new XMLHttpRequest();//ç¬¬ä¸€æ­¥ï¼šå»ºç«‹æ‰€éœ€çš„å¯¹è±¡
    XHR.open('GET', 'dataWebsite.json', true);//ç¬¬äºŒæ­¥ï¼šæ‰“å¼€è¿æ¥  å°†è¯·æ±‚å‚æ•°å†™åœ¨urlä¸­  ps:"./Ptest.php?name=test&nameone=testone"
    XHR.send();//ç¬¬ä¸‰æ­¥ï¼šå‘é€è¯·æ±‚  å°†è¯·æ±‚å‚æ•°å†™åœ¨URLä¸­

    // è§£æjson
    XHR.onreadystatechange = function () {
      if (XHR.readyState == 4 && XHR.status == 200) {
        let json = XHR.responseText;//è·å–åˆ°jsonå­—ç¬¦ä¸²ï¼Œè¿˜éœ€è§£æ
        let data = JSON.parse(json);
        
        //è¯·æ±‚æˆåŠŸåæ¸²æŸ“json
        let websites = data.websites;//jsonå¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„
        websites.forEach(renderUrl);//forEachæ–¹æ³•å°†æ¸²æŸ“å‡½æ•°ä½œä¸ºå‚æ•°
      }
    };

  //æ¸²æŸ“å‡½æ•°
  function renderUrl(value){
      let title = value.title;
      let url = value.url;
      document.querySelector('#url>ul').innerHTML += `<li><a href=${url} target="_blank">${title}</a></li>`
  }
</script>

  <script src="main.js"></script>
</body>

</html>
